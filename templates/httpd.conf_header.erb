# This configuration file is managed by puppet
# any attempt to alter it will be revert on the next puppet run

Include <%= @confdir %>/extra/defines.conf
Include ${EXTRACONF}/macro.conf

Use Instance <%= @mpm %> <%= @instance %> <%= @interface %>:<%= @port %>

<% if @php -%>
Include ${EXTRACONF}/php.conf
<% end -%>
<% if @passenger -%>
Include ${EXTRACONF}/passenger.conf
<% end -%>

<% if @modules and not @modules.empty? -%>
# Additional modules:
<% @modules.each do |mod| -%>
Use LoadM <%= mod %>
<% end -%>
<% end -%>

<% if @pre_vhost_includes and not @pre_vhost_includes.empty? -%>
# Additional Include(s) before we start off our vhost declarations
<% @pre_vhost_includes.each do |incl| -%>
Include <%= incl %>
<% end -%>
<% end -%>
